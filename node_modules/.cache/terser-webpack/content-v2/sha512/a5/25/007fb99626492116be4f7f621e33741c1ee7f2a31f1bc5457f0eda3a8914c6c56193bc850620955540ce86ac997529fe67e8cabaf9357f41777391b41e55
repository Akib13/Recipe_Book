{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{CXQP:function(t,e,i){\"use strict\";i.r(e),i.d(e,\"ShoppingListModule\",function(){return f});var n=i(\"3Pt+\"),s=i(\"tyNb\"),o=i(\"7F1V\"),r=i(\"PCNd\"),c=i(\"fXoL\"),b=i(\"ozzT\"),d=i(\"9rNa\"),u=i(\"ofXK\");const l=[\"f\"];function a(t,e){if(1&t){const t=c.Mb();c.Lb(0,\"button\",13),c.Sb(\"click\",function(){return c.cc(t),c.Ub().onDelete()}),c.gc(1,\" Delete \"),c.Kb()}}let p=(()=>{class t{constructor(t){this.slService=t,this.editMode=!1}ngOnInit(){this.subscription=this.slService.startedEditing.subscribe(t=>{this.editedItemIndex=t,this.editMode=!0,this.editedItem=this.slService.getIngredient(t),this.slForm.setValue({name:this.editedItem.name,amount:this.editedItem.amount})})}onSubmit(t){const e=t.value,i=new d.a(e.name,e.amount);this.editMode?this.slService.updateIngredient(this.editedItemIndex,i):this.slService.addIngredient(i),this.editMode=!1,t.reset()}onClear(){this.slForm.reset(),this.editMode=!1}onDelete(){this.slService.deleteIngredient(this.editedItemIndex)}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\\u0275fac=function(e){return new(e||t)(c.Ib(b.a))},t.\\u0275cmp=c.Cb({type:t,selectors:[[\"app-shopping-edit\"]],viewQuery:function(t,e){if(1&t&&c.jc(l,1),2&t){let t;c.Zb(t=c.Tb())&&(e.slForm=t.first)}},decls:20,vars:3,consts:[[1,\"row\"],[1,\"col-xs-12\"],[3,\"ngSubmit\"],[\"f\",\"ngForm\"],[1,\"col-sm-5\",\"form-group\"],[\"for\",\"name\"],[\"type\",\"text\",\"id\",\"name\",\"name\",\"name\",\"ngModel\",\"\",\"required\",\"\",1,\"form-control\"],[1,\"col-sm-2\",\"form-group\"],[\"for\",\"amount\"],[\"type\",\"number\",\"id\",\"amount\",\"name\",\"amount\",\"ngModel\",\"\",\"required\",\"\",\"pattern\",\"^[1-9]+[0-9]*$\",1,\"form-control\"],[\"type\",\"submit\",1,\"btn\",\"btn-success\",3,\"disabled\"],[\"class\",\"btn btn-danger\",\"type\",\"button\",3,\"click\",4,\"ngIf\"],[\"type\",\"button\",1,\"btn\",\"btn-primary\",3,\"click\"],[\"type\",\"button\",1,\"btn\",\"btn-danger\",3,\"click\"]],template:function(t,e){if(1&t){const t=c.Mb();c.Lb(0,\"div\",0),c.Lb(1,\"div\",1),c.Lb(2,\"form\",2,3),c.Sb(\"ngSubmit\",function(){c.cc(t);const i=c.ac(3);return e.onSubmit(i)}),c.Lb(4,\"div\",0),c.Lb(5,\"div\",4),c.Lb(6,\"label\",5),c.gc(7,\"Name\"),c.Kb(),c.Jb(8,\"input\",6),c.Kb(),c.Lb(9,\"div\",7),c.Lb(10,\"label\",8),c.gc(11,\"Amount\"),c.Kb(),c.Jb(12,\"input\",9),c.Kb(),c.Kb(),c.Lb(13,\"div\",0),c.Lb(14,\"div\",1),c.Lb(15,\"button\",10),c.gc(16),c.Kb(),c.fc(17,a,2,0,\"button\",11),c.Lb(18,\"button\",12),c.Sb(\"click\",function(){return e.onClear()}),c.gc(19,\" Clear \"),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb(),c.Kb()}if(2&t){const t=c.ac(3);c.yb(15),c.Vb(\"disabled\",!t.valid),c.yb(1),c.hc(\" \",e.editMode?\"Update\":\"Add\",\" \"),c.yb(1),c.Vb(\"ngIf\",e.editMode)}},directives:[n.u,n.m,n.n,n.a,n.l,n.o,n.s,n.p,n.q,u.i],styles:[\"\"]}),t})();function m(t,e){if(1&t){const t=c.Mb();c.Lb(0,\"a\",4),c.Sb(\"click\",function(){c.cc(t);const i=e.index;return c.Ub().onEditItem(i)}),c.gc(1),c.Kb()}if(2&t){const t=e.$implicit;c.yb(1),c.ic(\" \",t.name,\" (\",t.amount,\") \")}}let g=(()=>{class t{constructor(t,e){this.slService=t,this.loggingService=e}ngOnInit(){this.ingredients=this.slService.getIngredients(),this.subscription=this.slService.ingredientsChanged.subscribe(t=>{this.ingredients=t}),this.loggingService.printlog(\"Hello from ShoppingListComponent ngOnInit\")}onEditItem(t){this.slService.startedEditing.next(t)}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\\u0275fac=function(e){return new(e||t)(c.Ib(b.a),c.Ib(o.a))},t.\\u0275cmp=c.Cb({type:t,selectors:[[\"app-shopping-list\"]],decls:6,vars:1,consts:[[1,\"row\"],[1,\"col-xs-10\"],[1,\"list-group\"],[\"class\",\"list-group-item\",\"style\",\"cursor: pointer;\",3,\"click\",4,\"ngFor\",\"ngForOf\"],[1,\"list-group-item\",2,\"cursor\",\"pointer\",3,\"click\"]],template:function(t,e){1&t&&(c.Lb(0,\"div\",0),c.Lb(1,\"div\",1),c.Jb(2,\"app-shopping-edit\"),c.Jb(3,\"hr\"),c.Lb(4,\"ul\",2),c.fc(5,m,2,2,\"a\",3),c.Kb(),c.Kb(),c.Kb()),2&t&&(c.yb(5),c.Vb(\"ngForOf\",e.ingredients))},directives:[p,u.h],styles:[\"\"]}),t})(),f=(()=>{class t{}return t.\\u0275fac=function(e){return new(e||t)},t.\\u0275mod=c.Gb({type:t}),t.\\u0275inj=c.Fb({providers:[o.a],imports:[[n.j,s.e.forChild([{path:\"\",component:g}]),r.a]]}),t})()}}]);","name":"7.04a8473083e2d21d95fb.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[7],{\n\n/***/ \"CXQP\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"ShoppingListModule\", function() { return /* binding */ shopping_list_module_ShoppingListModule; });\n\n// EXTERNAL MODULE: ./node_modules/@angular/forms/__ivy_ngcc__/fesm2015/forms.js + 1 modules\nvar fesm2015_forms = __webpack_require__(\"3Pt+\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/router/__ivy_ngcc__/fesm2015/router.js + 17 modules\nvar router = __webpack_require__(\"tyNb\");\n\n// EXTERNAL MODULE: ./src/app/logging.service.ts\nvar logging_service = __webpack_require__(\"7F1V\");\n\n// EXTERNAL MODULE: ./src/app/shared/shared.module.ts\nvar shared_module = __webpack_require__(\"PCNd\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/core/__ivy_ngcc__/fesm2015/core.js + 3 modules\nvar core = __webpack_require__(\"fXoL\");\n\n// EXTERNAL MODULE: ./src/app/shopping-list/shopping-list.service.ts\nvar shopping_list_service = __webpack_require__(\"ozzT\");\n\n// EXTERNAL MODULE: ./src/app/shared/ingredient.model.ts\nvar ingredient_model = __webpack_require__(\"9rNa\");\n\n// EXTERNAL MODULE: ./node_modules/@angular/common/__ivy_ngcc__/fesm2015/common.js\nvar common = __webpack_require__(\"ofXK\");\n\n// CONCATENATED MODULE: ./src/app/shopping-list/shopping-edit/shopping-edit.component.ts\n\n\n\n\n\nconst _c0 = [\"f\"];\nfunction ShoppingEditComponent_button_17_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r3 = core[\"Mb\" /* ɵɵgetCurrentView */]();\n        core[\"Lb\" /* ɵɵelementStart */](0, \"button\", 13);\n        core[\"Sb\" /* ɵɵlistener */](\"click\", function ShoppingEditComponent_button_17_Template_button_click_0_listener() { core[\"cc\" /* ɵɵrestoreView */](_r3); const ctx_r2 = core[\"Ub\" /* ɵɵnextContext */](); return ctx_r2.onDelete(); });\n        core[\"gc\" /* ɵɵtext */](1, \" Delete \");\n        core[\"Kb\" /* ɵɵelementEnd */]();\n    }\n}\nlet shopping_edit_component_ShoppingEditComponent = /*@__PURE__*/ (() => {\n    class ShoppingEditComponent {\n        // @ViewChild('nameInput') nameInputRef: ElementRef;\n        // @ViewChild('amountInput') amountInputRef: ElementRef;\n        constructor(slService) {\n            this.slService = slService;\n            this.editMode = false;\n        }\n        ngOnInit() {\n            this.subscription = this.slService.startedEditing\n                .subscribe((index) => {\n                this.editedItemIndex = index;\n                this.editMode = true;\n                this.editedItem = this.slService.getIngredient(index);\n                this.slForm.setValue({\n                    name: this.editedItem.name,\n                    amount: this.editedItem.amount\n                });\n            });\n        }\n        /* onAddItem() {\n          const ingName = this.nameInputRef.nativeElement.value;\n          const ingAmount = this.amountInputRef.nativeElement.value;\n          const newIngredient = new Ingredient(ingName, ingAmount);\n          this.slService.addIngredient(newIngredient);\n        } */\n        onSubmit(form) {\n            const value = form.value;\n            const newIngredient = new ingredient_model[\"a\" /* Ingredient */](value.name, value.amount);\n            if (this.editMode) {\n                this.slService.updateIngredient(this.editedItemIndex, newIngredient);\n            }\n            else {\n                this.slService.addIngredient(newIngredient);\n            }\n            this.editMode = false;\n            form.reset();\n        }\n        onClear() {\n            this.slForm.reset();\n            this.editMode = false;\n        }\n        onDelete() {\n            this.slService.deleteIngredient(this.editedItemIndex);\n        }\n        ngOnDestroy() {\n            this.subscription.unsubscribe();\n        }\n    }\n    ShoppingEditComponent.ɵfac = function ShoppingEditComponent_Factory(t) { return new (t || ShoppingEditComponent)(core[\"Ib\" /* ɵɵdirectiveInject */](shopping_list_service[\"a\" /* ShoppingListService */])); };\n    ShoppingEditComponent.ɵcmp = core[\"Cb\" /* ɵɵdefineComponent */]({ type: ShoppingEditComponent, selectors: [[\"app-shopping-edit\"]], viewQuery: function ShoppingEditComponent_Query(rf, ctx) {\n            if (rf & 1) {\n                core[\"jc\" /* ɵɵviewQuery */](_c0, 1);\n            }\n            if (rf & 2) {\n                let _t;\n                core[\"Zb\" /* ɵɵqueryRefresh */](_t = core[\"Tb\" /* ɵɵloadQuery */]()) && (ctx.slForm = _t.first);\n            }\n        }, decls: 20, vars: 3, consts: [[1, \"row\"], [1, \"col-xs-12\"], [3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"col-sm-5\", \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [1, \"col-sm-2\", \"form-group\"], [\"for\", \"amount\"], [\"type\", \"number\", \"id\", \"amount\", \"name\", \"amount\", \"ngModel\", \"\", \"required\", \"\", \"pattern\", \"^[1-9]+[0-9]*$\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"], [\"class\", \"btn btn-danger\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"]], template: function ShoppingEditComponent_Template(rf, ctx) {\n            if (rf & 1) {\n                const _r4 = core[\"Mb\" /* ɵɵgetCurrentView */]();\n                core[\"Lb\" /* ɵɵelementStart */](0, \"div\", 0);\n                core[\"Lb\" /* ɵɵelementStart */](1, \"div\", 1);\n                core[\"Lb\" /* ɵɵelementStart */](2, \"form\", 2, 3);\n                core[\"Sb\" /* ɵɵlistener */](\"ngSubmit\", function ShoppingEditComponent_Template_form_ngSubmit_2_listener() { core[\"cc\" /* ɵɵrestoreView */](_r4); const _r0 = core[\"ac\" /* ɵɵreference */](3); return ctx.onSubmit(_r0); });\n                core[\"Lb\" /* ɵɵelementStart */](4, \"div\", 0);\n                core[\"Lb\" /* ɵɵelementStart */](5, \"div\", 4);\n                core[\"Lb\" /* ɵɵelementStart */](6, \"label\", 5);\n                core[\"gc\" /* ɵɵtext */](7, \"Name\");\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Jb\" /* ɵɵelement */](8, \"input\", 6);\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Lb\" /* ɵɵelementStart */](9, \"div\", 7);\n                core[\"Lb\" /* ɵɵelementStart */](10, \"label\", 8);\n                core[\"gc\" /* ɵɵtext */](11, \"Amount\");\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Jb\" /* ɵɵelement */](12, \"input\", 9);\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Lb\" /* ɵɵelementStart */](13, \"div\", 0);\n                core[\"Lb\" /* ɵɵelementStart */](14, \"div\", 1);\n                core[\"Lb\" /* ɵɵelementStart */](15, \"button\", 10);\n                core[\"gc\" /* ɵɵtext */](16);\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"fc\" /* ɵɵtemplate */](17, ShoppingEditComponent_button_17_Template, 2, 0, \"button\", 11);\n                core[\"Lb\" /* ɵɵelementStart */](18, \"button\", 12);\n                core[\"Sb\" /* ɵɵlistener */](\"click\", function ShoppingEditComponent_Template_button_click_18_listener() { return ctx.onClear(); });\n                core[\"gc\" /* ɵɵtext */](19, \" Clear \");\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                const _r0 = core[\"ac\" /* ɵɵreference */](3);\n                core[\"yb\" /* ɵɵadvance */](15);\n                core[\"Vb\" /* ɵɵproperty */](\"disabled\", !_r0.valid);\n                core[\"yb\" /* ɵɵadvance */](1);\n                core[\"hc\" /* ɵɵtextInterpolate1 */](\" \", ctx.editMode ? \"Update\" : \"Add\", \" \");\n                core[\"yb\" /* ɵɵadvance */](1);\n                core[\"Vb\" /* ɵɵproperty */](\"ngIf\", ctx.editMode);\n            }\n        }, directives: [fesm2015_forms[\"u\" /* ɵangular_packages_forms_forms_y */], fesm2015_forms[\"m\" /* NgControlStatusGroup */], fesm2015_forms[\"n\" /* NgForm */], fesm2015_forms[\"a\" /* DefaultValueAccessor */], fesm2015_forms[\"l\" /* NgControlStatus */], fesm2015_forms[\"o\" /* NgModel */], fesm2015_forms[\"s\" /* RequiredValidator */], fesm2015_forms[\"p\" /* NumberValueAccessor */], fesm2015_forms[\"q\" /* PatternValidator */], common[\"i\" /* NgIf */]], styles: [\"\"] });\n    return ShoppingEditComponent;\n})();\n\n// CONCATENATED MODULE: ./src/app/shopping-list/shopping-list.component.ts\n\n\n\n\n\nfunction ShoppingListComponent_a_5_Template(rf, ctx) {\n    if (rf & 1) {\n        const _r4 = core[\"Mb\" /* ɵɵgetCurrentView */]();\n        core[\"Lb\" /* ɵɵelementStart */](0, \"a\", 4);\n        core[\"Sb\" /* ɵɵlistener */](\"click\", function ShoppingListComponent_a_5_Template_a_click_0_listener() { core[\"cc\" /* ɵɵrestoreView */](_r4); const i_r2 = ctx.index; const ctx_r3 = core[\"Ub\" /* ɵɵnextContext */](); return ctx_r3.onEditItem(i_r2); });\n        core[\"gc\" /* ɵɵtext */](1);\n        core[\"Kb\" /* ɵɵelementEnd */]();\n    }\n    if (rf & 2) {\n        const ingredient_r1 = ctx.$implicit;\n        core[\"yb\" /* ɵɵadvance */](1);\n        core[\"ic\" /* ɵɵtextInterpolate2 */](\" \", ingredient_r1.name, \" (\", ingredient_r1.amount, \") \");\n    }\n}\nlet shopping_list_component_ShoppingListComponent = /*@__PURE__*/ (() => {\n    class ShoppingListComponent {\n        constructor(slService, loggingService) {\n            this.slService = slService;\n            this.loggingService = loggingService;\n        }\n        ngOnInit() {\n            this.ingredients = this.slService.getIngredients();\n            // this.slService.ingredientsChanged\n            this.subscription = this.slService.ingredientsChanged\n                .subscribe((ingredients) => {\n                this.ingredients = ingredients;\n            });\n            //\n            this.loggingService.printlog('Hello from ShoppingListComponent ngOnInit');\n        }\n        onEditItem(index) {\n            this.slService.startedEditing.next(index);\n        }\n        ngOnDestroy() {\n            this.subscription.unsubscribe();\n        }\n    }\n    ShoppingListComponent.ɵfac = function ShoppingListComponent_Factory(t) { return new (t || ShoppingListComponent)(core[\"Ib\" /* ɵɵdirectiveInject */](shopping_list_service[\"a\" /* ShoppingListService */]), core[\"Ib\" /* ɵɵdirectiveInject */](logging_service[\"a\" /* LoggingService */])); };\n    ShoppingListComponent.ɵcmp = core[\"Cb\" /* ɵɵdefineComponent */]({ type: ShoppingListComponent, selectors: [[\"app-shopping-list\"]], decls: 6, vars: 1, consts: [[1, \"row\"], [1, \"col-xs-10\"], [1, \"list-group\"], [\"class\", \"list-group-item\", \"style\", \"cursor: pointer;\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"list-group-item\", 2, \"cursor\", \"pointer\", 3, \"click\"]], template: function ShoppingListComponent_Template(rf, ctx) {\n            if (rf & 1) {\n                core[\"Lb\" /* ɵɵelementStart */](0, \"div\", 0);\n                core[\"Lb\" /* ɵɵelementStart */](1, \"div\", 1);\n                core[\"Jb\" /* ɵɵelement */](2, \"app-shopping-edit\");\n                core[\"Jb\" /* ɵɵelement */](3, \"hr\");\n                core[\"Lb\" /* ɵɵelementStart */](4, \"ul\", 2);\n                core[\"fc\" /* ɵɵtemplate */](5, ShoppingListComponent_a_5_Template, 2, 2, \"a\", 3);\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementEnd */]();\n                core[\"Kb\" /* ɵɵelementEnd */]();\n            }\n            if (rf & 2) {\n                core[\"yb\" /* ɵɵadvance */](5);\n                core[\"Vb\" /* ɵɵproperty */](\"ngForOf\", ctx.ingredients);\n            }\n        }, directives: [shopping_edit_component_ShoppingEditComponent, common[\"h\" /* NgForOf */]], styles: [\"\"] });\n    return ShoppingListComponent;\n})();\n\n// CONCATENATED MODULE: ./src/app/shopping-list/shopping-list.module.ts\n\n\n\n\n\n\n\nlet shopping_list_module_ShoppingListModule = /*@__PURE__*/ (() => {\n    class ShoppingListModule {\n    }\n    ShoppingListModule.ɵfac = function ShoppingListModule_Factory(t) { return new (t || ShoppingListModule)(); };\n    ShoppingListModule.ɵmod = core[\"Gb\" /* ɵɵdefineNgModule */]({ type: ShoppingListModule });\n    ShoppingListModule.ɵinj = core[\"Fb\" /* ɵɵdefineInjector */]({ providers: [logging_service[\"a\" /* LoggingService */]], imports: [[\n                fesm2015_forms[\"j\" /* FormsModule */],\n                router[\"e\" /* RouterModule */].forChild([\n                    { path: '', component: shopping_list_component_ShoppingListComponent },\n                ]),\n                shared_module[\"a\" /* SharedModule */]\n            ]] });\n    return ShoppingListModule;\n})();\n\n\n/***/ })\n\n}]);","inputSourceMap":null}